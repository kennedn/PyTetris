$pyjs.loaded_modules["pyjsdl.image"]=function(m){if($pyjs.loaded_modules["pyjsdl.image"].__was_initialized__)return $pyjs.loaded_modules["pyjsdl.image"];"undefined"!=typeof $pyjs.loaded_modules.pyjsdl&&$pyjs.loaded_modules.pyjsdl.__was_initialized__||$p.___import___("pyjsdl",null);var a=$pyjs.loaded_modules["pyjsdl.image"];a.__repr__=function(){return"<module: pyjsdl.image>"};a.__was_initialized__=!0;if(null===m||"undefined"==typeof m)m="pyjsdl.image";a.__name__=m;a.__track_lines__=[];$pyjs.loaded_modules.pyjsdl.image=
$pyjs.loaded_modules["pyjsdl.image"];a.__track_lines__[1]="pyjsdl.image.py, line 1:\n    #Pyjsdl - Copyright (C) 2013 James Garnon <http://gatc.ca/>";a.__track_lines__[5]="pyjsdl.image.py, line 5:\n    import os";a.__track_lines__[6]="pyjsdl.image.py, line 6:\n    from pyjsdl.surface import Surface, Surf";a.__track_lines__[7]="pyjsdl.image.py, line 7:\n    from pyjsdl import env";a.__track_lines__[8]="pyjsdl.image.py, line 8:\n    import pyjsdl";a.__track_lines__[10]="pyjsdl.image.py, line 10:\n    __docformat__ = 'restructuredtext'";
a.__track_lines__[13]="pyjsdl.image.py, line 13:\n    class Image(object):";a.__track_lines__[22]="pyjsdl.image.py, line 22:\n    def __init__(self):";a.__track_lines__[28]="pyjsdl.image.py, line 28:\n    self.images = None";a.__track_lines__[30]="pyjsdl.image.py, line 30:\n    def load(self, img_file, namehint=None):";a.__track_lines__[36]="pyjsdl.image.py, line 36:\n    if not namehint:";a.__track_lines__[37]="pyjsdl.image.py, line 37:\n    image = self.get_image(img_file)";a.__track_lines__[39]=
"pyjsdl.image.py, line 39:\n    image = self.get_image(namehint)";a.__track_lines__[40]="pyjsdl.image.py, line 40:\n    surface = self.convert_image(image)";a.__track_lines__[41]="pyjsdl.image.py, line 41:\n    return surface";a.__track_lines__[43]="pyjsdl.image.py, line 43:\n    def get_image(self, img_file):";a.__track_lines__[47]="pyjsdl.image.py, line 47:\n    if self.images is None:";a.__track_lines__[48]="pyjsdl.image.py, line 48:\n    self.images = {}";a.__track_lines__[49]="pyjsdl.image.py, line 49:\n    for img in env.canvas.images:";
a.__track_lines__[50]="pyjsdl.image.py, line 50:\n    self.images[os.path.normpath(img)] = env.canvas.images[img]";a.__track_lines__[51]="pyjsdl.image.py, line 51:\n    img_file = os.path.normpath(img_file)";a.__track_lines__[52]="pyjsdl.image.py, line 52:\n    try:";a.__track_lines__[53]="pyjsdl.image.py, line 53:\n    image = self.images[img_file]";a.__track_lines__[55]='pyjsdl.image.py, line 55:\n    raise pyjsdl.error("Failed to retrieve image file %s" % img_file)';a.__track_lines__[56]="pyjsdl.image.py, line 56:\n    return image";
a.__track_lines__[58]="pyjsdl.image.py, line 58:\n    def convert_image(self, image):";a.__track_lines__[62]="pyjsdl.image.py, line 62:\n    if env.canvas._isCanvas:";a.__track_lines__[63]="pyjsdl.image.py, line 63:\n    surface = Surface((image.width,image.height))";a.__track_lines__[64]="pyjsdl.image.py, line 64:\n    surface.drawImage(image, 0, 0)";a.__track_lines__[66]="pyjsdl.image.py, line 66:\n    surface = Surf(image)";a.__track_lines__[67]="pyjsdl.image.py, line 67:\n    return surface";
$pyjs.track.module="pyjsdl.image";$pyjs.track.lineno=1;$pyjs.track.lineno=5;$pyjs.track={module:$pyjs.track.module,lineno:$pyjs.track.lineno};$pyjs.trackstack.push($pyjs.track);a.os=$p.___import___("os","pyjsdl");$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);$pyjs.track.lineno=6;$pyjs.track={module:$pyjs.track.module,lineno:$pyjs.track.lineno};$pyjs.trackstack.push($pyjs.track);a.Surface=$p.___import___("pyjsdl.surface.Surface","pyjsdl",null,!1);$pyjs.trackstack.pop();
$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);$pyjs.track={module:$pyjs.track.module,lineno:$pyjs.track.lineno};$pyjs.trackstack.push($pyjs.track);a.Surf=$p.___import___("pyjsdl.surface.Surf","pyjsdl",null,!1);$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);$pyjs.track.lineno=7;$pyjs.track={module:$pyjs.track.module,lineno:$pyjs.track.lineno};$pyjs.trackstack.push($pyjs.track);a.env=$p.___import___("pyjsdl.env","pyjsdl",null,!1);
$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);$pyjs.track.lineno=8;$pyjs.track={module:$pyjs.track.module,lineno:$pyjs.track.lineno};$pyjs.trackstack.push($pyjs.track);a.pyjsdl=$p.___import___("pyjsdl","pyjsdl");$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);$pyjs.track.lineno=10;a.__docformat__="restructuredtext";$pyjs.track.lineno=13;a.Image=function(){var h={},b;h.__module__="pyjsdl.image";$pyjs.track.lineno=
22;b=$pyjs__bind_method2("__init__",function(a){a=!0===this.__is_instance__?this:a;$pyjs.track={module:"pyjsdl.image",lineno:22};$pyjs.trackstack.push($pyjs.track);$pyjs.track.module="pyjsdl.image";$pyjs.track.lineno=22;$pyjs.track.lineno=28;a.images=null;$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);return null},1,[null,null,["self"]]);h.__init__=b;$pyjs.track.lineno=30;b=$pyjs__bind_method2("load",function(a,b){if(!0===this.__is_instance__)var e=this;
else e=arguments[0],a=arguments[1],b=arguments[2];"undefined"==typeof b&&(b=arguments.callee.__args__[4][1]);var f,d,g,c;$pyjs.track={module:"pyjsdl.image",lineno:30};$pyjs.trackstack.push($pyjs.track);$pyjs.track.module="pyjsdl.image";$pyjs.track.lineno=30;$pyjs.track.lineno=36;var k;a:{try{try{$pyjs.in_try_except+=1;k=null===(d=!(null===(g=b)||!1===g||0===g||""===g?0:"object"==typeof g?"function"==typeof g.__nonzero__?g.__nonzero__():"function"==typeof g.__len__?0<g.__len__():1:1))||!1===d||0===
d||""===d?!1:"object"==typeof d?"function"==typeof d.__nonzero__?d.__nonzero__():"function"==typeof d.__len__?0<d.__len__()?!0:!1:!0:!0;break a}finally{$pyjs.in_try_except-=1}}catch(q){throw $p.isinstance(q,$p.StopIteration)||$p._handle_exception(q),q;}k=void 0}if(k){$pyjs.track.lineno=37;a:{try{try{$pyjs.in_try_except+=1;c=e.get_image(a);break a}finally{$pyjs.in_try_except-=1}}catch(r){throw $p.isinstance(r,$p.StopIteration)||$p._handle_exception(r),r;}c=void 0}}else{$pyjs.track.lineno=39;a:{try{try{$pyjs.in_try_except+=
1;c=e.get_image(b);break a}finally{$pyjs.in_try_except-=1}}catch(n){throw $p.isinstance(n,$p.StopIteration)||$p._handle_exception(n),n;}c=void 0}}$pyjs.track.lineno=40;a:{try{try{$pyjs.in_try_except+=1;f=e.convert_image(c);break a}finally{$pyjs.in_try_except-=1}}catch(p){throw $p.isinstance(p,$p.StopIteration)||$p._handle_exception(p),p;}f=void 0}$pyjs.track.lineno=41;$pyjs.track.lineno=41;e=f;$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);return e},1,
[null,null,["self"],["img_file"],["namehint",null]]);h.load=b;$pyjs.track.lineno=43;b=$pyjs__bind_method2("get_image",function(b,m){if(!0===this.__is_instance__)var e=this;else e=b,b=m;var f,d,g,c,k,q,r,n,p,h,t,l;$pyjs.track={module:"pyjsdl.image",lineno:43};$pyjs.trackstack.push($pyjs.track);$pyjs.track.module="pyjsdl.image";$pyjs.track.lineno=43;$pyjs.track.lineno=47;a:{try{try{$pyjs.in_try_except+=1;k=null===(c=null===e.images)||!1===c||0===c||""===c?!1:"object"==typeof c?"function"==typeof c.__nonzero__?
c.__nonzero__():"function"==typeof c.__len__?0<c.__len__()?!0:!1:!0:!0;break a}finally{$pyjs.in_try_except-=1}}catch(u){throw $p.isinstance(u,$p.StopIteration)||$p._handle_exception(u),u;}k=void 0}if(k){$pyjs.track.lineno=48;c=e;a:{try{try{$pyjs.in_try_except+=1;l=$p.dict([]);break a}finally{$pyjs.in_try_except-=1}}catch(v){throw $p.isinstance(v,$p.StopIteration)||$p._handle_exception(v),v;}l=void 0}c.images=l;$pyjs.track.lineno=49;l=$pyjs.trackstack.length;a:{try{try{$pyjs.in_try_except+=1;d=a.env.canvas.images;
break a}finally{$pyjs.in_try_except-=1}}catch(w){throw $p.isinstance(w,$p.StopIteration)||$p._handle_exception(w),w;}d=void 0}"undefined"!=typeof(c=d.__array)?h=0:(d=d.__iter__(),h="undefined"!=typeof(c=d.__array)?0:"function"==typeof d.$genfunc?1:-1);for(t=0;"undefined"!=typeof(k=h?0<h?d.next(!0,!1):$p.wrapped_next(d):c[t++]);)g=k,$pyjs.track.lineno=50,function(){try{try{return $pyjs.in_try_except+=1,e.images.__setitem__(function(){try{try{return $pyjs.in_try_except+=1,a.os.path.normpath(g)}finally{$pyjs.in_try_except-=
1}}catch(b){throw $p.isinstance(b,$p.StopIteration)||$p._handle_exception(b),b;}}(),"undefined"!=typeof(p=a.env.canvas.images).__array?"undefined"!=typeof p.__array[r=g]?p.__array[r]:p.__getitem__(r):p.__getitem__(g))}finally{$pyjs.in_try_except-=1}}catch(b){throw $p.isinstance(b,$p.StopIteration)||$p._handle_exception(b),b;}}();$pyjs.trackstack.length>l&&($pyjs.trackstack=$pyjs.trackstack.slice(0,l),$pyjs.track=$pyjs.trackstack.slice(-1)[0]);$pyjs.track.module="pyjsdl.image"}$pyjs.track.lineno=51;
a:{try{try{$pyjs.in_try_except+=1;b=a.os.path.normpath(b);break a}finally{$pyjs.in_try_except-=1}}catch(x){throw $p.isinstance(x,$p.StopIteration)||$p._handle_exception(x),x;}b=void 0}$pyjs.track.lineno=52;l=$pyjs.trackstack.length;try{try{$pyjs.in_try_except+=1,$pyjs.track.lineno=53,f="undefined"!=typeof(n=e.images).__array?"undefined"!=typeof n.__array[q=b]?n.__array[q]:n.__getitem__(q):n.__getitem__(b)}finally{$pyjs.in_try_except-=1}}catch(s){$pyjs.__last_exception_stack__=sys.save_exception_stack(l-
1);$pyjs.__active_exception_stack__=null;f="undefined"==typeof s.__name__?s.name:s.__name__;$pyjs.__last_exception__={error:s,module:a};$pyjs.trackstack.length>l&&($pyjs.trackstack=$pyjs.trackstack.slice(0,l),$pyjs.track=$pyjs.trackstack.slice(-1)[0]);$pyjs.track.module="pyjsdl.image";if(f==$p.KeyError.__name__||$p._isinstance(s,$p.KeyError))throw $pyjs.track.lineno=55,$pyjs.__active_exception_stack__=null,function(){try{try{return $pyjs.in_try_except+=1,a.pyjsdl.error(function(){try{try{return $pyjs.in_try_except+=
1,$p.sprintf("Failed to retrieve image file %s",b)}finally{$pyjs.in_try_except-=1}}catch(a){throw $p.isinstance(a,$p.StopIteration)||$p._handle_exception(a),a;}}())}finally{$pyjs.in_try_except-=1}}catch(c){throw $p.isinstance(c,$p.StopIteration)||$p._handle_exception(c),c;}}();$pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__;$pyjs.__last_exception_stack__=null;throw s;}$pyjs.track.lineno=56;$pyjs.track.lineno=56;$pyjs.trackstack.pop();$pyjs.track=$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);
return f},1,[null,null,["self"],["img_file"]]);h.get_image=b;$pyjs.track.lineno=58;b=$pyjs__bind_method2("convert_image",function(b,h){!0!==this.__is_instance__&&(b=h);var e,f;$pyjs.track={module:"pyjsdl.image",lineno:58};$pyjs.trackstack.push($pyjs.track);$pyjs.track.module="pyjsdl.image";$pyjs.track.lineno=58;$pyjs.track.lineno=62;var d;a:{try{try{$pyjs.in_try_except+=1;d=null===(f=a.env.canvas._isCanvas)||!1===f||0===f||""===f?!1:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():
"function"==typeof f.__len__?0<f.__len__()?!0:!1:!0:!0;break a}finally{$pyjs.in_try_except-=1}}catch(g){throw $p.isinstance(g,$p.StopIteration)||$p._handle_exception(g),g;}d=void 0}if(d){$pyjs.track.lineno=63;e=function(){try{try{return $pyjs.in_try_except+=1,a.Surface(function(){try{try{return $pyjs.in_try_except+=1,$p.tuple([b.width,b.height])}finally{$pyjs.in_try_except-=1}}catch(a){throw $p.isinstance(a,$p.StopIteration)||$p._handle_exception(a),a;}}())}finally{$pyjs.in_try_except-=1}}catch(c){throw $p.isinstance(c,
$p.StopIteration)||$p._handle_exception(c),c;}}();$pyjs.track.lineno=64;try{try{$pyjs.in_try_except+=1,e.drawImage(b,0,0)}finally{$pyjs.in_try_except-=1}}catch(c){throw $p.isinstance(c,$p.StopIteration)||$p._handle_exception(c),c;}}else{$pyjs.track.lineno=66;a:{try{try{$pyjs.in_try_except+=1;e=a.Surf(b);break a}finally{$pyjs.in_try_except-=1}}catch(k){throw $p.isinstance(k,$p.StopIteration)||$p._handle_exception(k),k;}e=void 0}}$pyjs.track.lineno=67;$pyjs.track.lineno=67;$pyjs.trackstack.pop();$pyjs.track=
$pyjs.trackstack.pop();$pyjs.trackstack.push($pyjs.track);return e},1,[null,null,["self"],["image"]]);h.convert_image=b;$pyjs.track.lineno=13;b=Array($p.object);var m=$p.dict(),t;for(t in h)m.__setitem__(t,h[t]);return $p._create_class("Image",$p.tuple(b),m)}();return this};
