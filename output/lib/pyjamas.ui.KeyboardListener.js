$pyjs.loaded_modules["pyjamas.ui.KeyboardListener"]=function(k){if($pyjs.loaded_modules["pyjamas.ui.KeyboardListener"].__was_initialized__)return $pyjs.loaded_modules["pyjamas.ui.KeyboardListener"];"undefined"!=typeof $pyjs.loaded_modules["pyjamas.ui"]&&$pyjs.loaded_modules["pyjamas.ui"].__was_initialized__||$p.___import___("pyjamas.ui",null);var a=$pyjs.loaded_modules["pyjamas.ui.KeyboardListener"];a.__repr__=function(){return"<module: pyjamas.ui.KeyboardListener>"};a.__was_initialized__=!0;if(null===
k||"undefined"==typeof k)k="pyjamas.ui.KeyboardListener";a.__name__=k;$pyjs.loaded_modules["pyjamas.ui"].KeyboardListener=$pyjs.loaded_modules["pyjamas.ui.KeyboardListener"];a.DOM=$p.___import___("pyjamas.DOM","pyjamas.ui",null,!1);a.Event=$p.___import___("pyjamas.ui.Event","pyjamas.ui",null,!1);a.KEY_ALT=18;a.KEY_BACKSPACE=8;a.KEY_CTRL=17;a.KEY_DELETE=46;a.KEY_DOWN=40;a.KEY_END=35;a.KEY_ENTER=13;a.KEY_ESCAPE=27;a.KEY_HOME=36;a.KEY_LEFT=37;a.KEY_PAGEDOWN=34;a.KEY_PAGEUP=33;a.KEY_RIGHT=39;a.KEY_SHIFT=
16;a.KEY_TAB=9;a.KEY_UP=38;a.KEYS=$p.list([a.KEY_ALT,a.KEY_BACKSPACE,a.KEY_CTRL,a.KEY_DELETE,a.KEY_DOWN,a.KEY_END,a.KEY_ENTER,a.KEY_ESCAPE,a.KEY_HOME,a.KEY_LEFT,a.KEY_PAGEDOWN,a.KEY_PAGEUP,a.KEY_RIGHT,a.KEY_SHIFT,a.KEY_TAB,a.KEY_UP]);a.MODIFIER_ALT=4;a.MODIFIER_CTRL=2;a.MODIFIER_SHIFT=1;a.getKeyboardModifiers=function(e){var g,b,c,d,f,h;h=g=b=0;if(null===(f=a.DOM.eventGetShiftKey(e))||!1===f||0===f||""===f?0:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():"function"==typeof f.__len__?
0<f.__len__():1:1)b=a.MODIFIER_SHIFT;if(null===(c=a.DOM.eventGetCtrlKey(e))||!1===c||0===c||""===c?0:"object"==typeof c?"function"==typeof c.__nonzero__?c.__nonzero__():"function"==typeof c.__len__?0<c.__len__():1:1)g=a.MODIFIER_CTRL;if(null===(d=a.DOM.eventGetAltKey(e))||!1===d||0===d||""===d?0:"object"==typeof d?"function"==typeof d.__nonzero__?d.__nonzero__():"function"==typeof d.__len__?0<d.__len__():1:1)h=a.MODIFIER_ALT;return b|g|h};a.getKeyboardModifiers.__name__="getKeyboardModifiers";a.getKeyboardModifiers.__bind_type__=
0;a.getKeyboardModifiers.__args__=[null,null,["event"]];a.fireKeyboardEvent=function(e,g,b){var c,d,f,h,l;l=a.getKeyboardModifiers(b);h=a.DOM.eventGetKeyCode(b);b=a.DOM.eventGetType(b);if(null===(d="keydown"===b&&null===b?!0:null===b?!1:"object"!=typeof b&&"function"!=typeof b||"function"!=typeof b.__cmp__?"keydown"==b:0===b.__cmp__("keydown"))||!1===d||0===d||""===d?0:"object"==typeof d?"function"==typeof d.__nonzero__?d.__nonzero__():"function"==typeof d.__len__?0<d.__len__():1:1)for(c=e,"undefined"!=
typeof(d=c.__array)?f=0:(c=c.__iter__(),f="undefined"!=typeof(d=c.__array)?0:"function"==typeof c.$genfunc?1:-1),b=0;"undefined"!=typeof(e=f?0<f?c.next(!0,!1):$p.wrapped_next(c):d[b++]);)e.onKeyDown(g,h,l);else if(null===(f="keyup"===b&&null===b?!0:null===b?!1:"object"!=typeof b&&"function"!=typeof b||"function"!=typeof b.__cmp__?"keyup"==b:0===b.__cmp__("keyup"))||!1===f||0===f||""===f?0:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():"function"==typeof f.__len__?0<f.__len__():
1:1)for(d=e,"undefined"!=typeof(b=d.__array)?c=0:(d=d.__iter__(),c="undefined"!=typeof(b=d.__array)?0:"function"==typeof d.$genfunc?1:-1),f=0;"undefined"!=typeof(e=c?0<c?d.next(!0,!1):$p.wrapped_next(d):b[f++]);)e.onKeyUp(g,h,l);else if(null===(c="keypress"===b&&null===b?!0:null===b?!1:"object"!=typeof b&&"function"!=typeof b||"function"!=typeof b.__cmp__?"keypress"==b:0===b.__cmp__("keypress"))||!1===c||0===c||""===c?0:"object"==typeof c?"function"==typeof c.__nonzero__?c.__nonzero__():"function"==
typeof c.__len__?0<c.__len__():1:1)for(b=e,"undefined"!=typeof(f=b.__array)?c=0:(b=b.__iter__(),c="undefined"!=typeof(f=b.__array)?0:"function"==typeof b.$genfunc?1:-1),d=0;"undefined"!=typeof(e=c?0<c?b.next(!0,!1):$p.wrapped_next(b):f[d++]);)e.onKeyPress(g,h,l);return null};a.fireKeyboardEvent.__name__="fireKeyboardEvent";a.fireKeyboardEvent.__bind_type__=0;a.fireKeyboardEvent.__args__=[null,null,["listeners"],["sender"],["event"]];a.KEYBOARD_EVENTS=$p.list(["keydown","keyup","keypress"]);a.KeyboardHandler=
function(){var e={},g;e.__module__="pyjamas.ui.KeyboardListener";g=$pyjs__bind_method2("__init__",function(d){d=!0===this.__is_instance__?this:d;d._keyboardListeners=$p.list([]);d.sinkEvents(a.Event.KEYEVENTS);return null},1,[null,null,["self"]]);e.__init__=g;g=$pyjs__bind_method2("onBrowserEvent",function(d,b){if(!0===this.__is_instance__)var c=this;else c=d,d=b;var e,g;g=a.DOM.eventGetType(d);(null===(e=$p.list(["keydown","keyup","keypress"]).__contains__(g))||!1===e||0===e||""===e?0:"object"==
typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():"function"==typeof e.__len__?0<e.__len__():1:1)&&a.fireKeyboardEvent(c._keyboardListeners,c,d);return null},1,[null,null,["self"],["event"]]);e.onBrowserEvent=g;g=$pyjs__bind_method2("addKeyboardListener",function(a,b){if(!0===this.__is_instance__)var c=this;else c=a,a=b;c._keyboardListeners.append(a);return null},1,[null,null,["self"],["listener"]]);e.addKeyboardListener=g;g=$pyjs__bind_method2("removeKeyboardListener",function(a,b){if(!0===
this.__is_instance__)var c=this;else c=a,a=b;c._keyboardListeners.remove(a);return null},1,[null,null,["self"],["listener"]]);e.removeKeyboardListener=g;g=$pyjs__bind_method2("onKeyDown",function(a,b,c,e){return null},1,[null,null,["self"],["sender"],["keycode"],["modifiers"]]);e.onKeyDown=g;g=$pyjs__bind_method2("onKeyUp",function(a,b,c,e){return null},1,[null,null,["self"],["sender"],["keycode"],["modifiers"]]);e.onKeyUp=g;g=$pyjs__bind_method2("onKeyPress",function(a,b,c,e){return null},1,[null,
null,["self"],["sender"],["keycode"],["modifiers"]]);e.onKeyPress=g;g=Array(pyjslib.object);var b=$p.dict(),c;for(c in e)b.__setitem__(c,e[c]);return $p._create_class("KeyboardHandler",$p.tuple(g),b)}();return this};
